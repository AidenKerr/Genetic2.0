{"version":3,"sources":["components/ControlPanel.js","components/Family.js","components/Population.js","components/InitialPop.js","components/Generations.js","components/DataPanel.js","algorithm/Algorithm.js","App.js","serviceWorker.js","index.js"],"names":["ControlPanel","props","handleChange","bind","handleColorChange","handleReset","handleSubmit","event","target","value","parseInt","name","state","this","onControlPanelChange","color","optimal","rgb","stopInterval","generations","stats","fitnessOverTime","stdDevOverTime","lowestFitness","highestFitness","preventDefault","onControlPanelSubmit","className","onSubmit","type","popSize","onChange","min","deathCutoff","maxGens","displayInterval","disableAlpha","onClick","React","Component","Family","mommy","Spectra","hex","daddy","child","style","backgroundColor","fitness","Population","pop","population","listPop","individuals","map","individual","generation","Generations","genList","filter","InitialPop","key","toString","DataPanel","currentFitness","averageFitness","prevGen","cur","i","x","y","length","height","width","title","data","yDomain","Algorithm","max","Math","floor","random","r","getRandomInt","g","b","spectraLab","labObject","L","l","A","a","B","valueLAB","convertToLab","optimalLAB","DeltaE","getDeltaE00","parseFloat","toFixed","newColor","push","calculateFitness","death","selectionPop","selection","nextGen","crossover","mutation","assignFitness","updateCounter","newIndividuals","pairs","pair","randWeightedInd","nextPair","weightSums","reduce","acc","randNum","j","sel","nextPop","nextInd","mate","mommyGene","colorToGene","daddyGene","crossPnt","babyGene","substring","geneToColor","pad","num","s","gene","ind","sign","mutationVal","delta","round","rand_bm","newValue","skew","u","v","sqrt","log","cos","PI","pow","App","alg","handleControlPanelChange","handleControlPanelSubmit","setState","clearInterval","genInterval","initialGen","generateStartingPop","calculateAverageFitness","calculateStdDevFitness","findLowestFitness","findHighestFitness","setInterval","gens","gen","fitnessArr","n","mean","highest","lowest","href","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.4dcab702.chunk.js","sourcesContent":["import React from 'react';\r\nimport { ChromePicker } from 'react-color';\r\nimport '../components/ControlPanel.css';\r\n\r\nclass ControlPanel extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleColorChange = this.handleColorChange.bind(this);\r\n        this.handleReset = this.handleReset.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n\r\n    // handles changes to the control panel except color changes\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = parseInt(target.value);\r\n        const name = target.name;\r\n\r\n        const state = {\r\n            [name]: value,\r\n        };\r\n\r\n        this.props.onControlPanelChange(state);\r\n    }\r\n\r\n    // handles color changes on control panel\r\n    handleColorChange(color) {\r\n        const state = {\r\n            optimal: color.rgb,\r\n        };\r\n        this.props.onControlPanelChange(state);\r\n    }\r\n\r\n    handleReset() {\r\n        const state = {\r\n            generations: [],\r\n            stats: {\r\n                fitnessOverTime: [],\r\n                stdDevOverTime: [],\r\n                lowestFitness: 100,\r\n                highestFitness: 0,\r\n            },\r\n        };\r\n        this.props.stopInterval();\r\n        this.props.onControlPanelChange(state);\r\n    }\r\n\r\n    // begins the algorithm\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        this.props.onControlPanelSubmit();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ControlPanel\">\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                        Population Size:\r\n                        <input name=\"popSize\" type=\"number\" value={this.props.popSize} onChange={this.handleChange} min=\"2\"/>\r\n                    </label>\r\n                    <br />\r\n                    <label>\r\n                        Death Cutoff:\r\n                        <input name=\"deathCutoff\" type=\"number\" value={this.props.deathCutoff} onChange={this.handleChange} />\r\n                    </label>\r\n                    <br />\r\n                    <label>\r\n                        Max Generations:\r\n                        <input name=\"maxGens\" type=\"number\" value={this.props.maxGens} onChange={this.handleChange} />\r\n                    </label>\r\n                    <br />\r\n                    <label>\r\n                        Display Every:\r\n                        <input name=\"displayInterval\" type=\"number\" value={this.props.displayInterval} onChange={this.handleChange} min=\"1\"/>\r\n                    </label>\r\n                    <br />\r\n                    <label className={'colorPicker'}>\r\n                        Optimal Color:\r\n                        <ChromePicker\r\n                            className={'chromePicker'}\r\n                            color={this.props.optimal}\r\n                            onChange={this.handleColorChange}\r\n                            disableAlpha={true}\r\n                        />\r\n                    </label>\r\n                    <br/>\r\n                    <input type=\"submit\" value=\"Start\" />\r\n                    <br/>\r\n                    <input type=\"button\" value=\"Reset\" onClick={this.handleReset}/>\r\n                </form>\r\n\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default ControlPanel;\r\n","import React from 'react';\r\nimport '../components/Family.css';\r\nimport Spectra from \"spectra\";\r\n\r\n\r\nfunction Family(props) {\r\n    // convert to hex to use in CSS\r\n    const mommy = Spectra(props.mommy.value).hex();\r\n    const daddy = Spectra(props.daddy.value).hex();\r\n    const child = Spectra(props.child.value).hex();\r\n\r\n    return (\r\n        <div className={'container'}>\r\n            <div>\r\n                <div className={'individual'} style={{backgroundColor: mommy}}>{props.mommy.fitness}</div>\r\n                <div className={'individual'} style={{backgroundColor: daddy}}>{props.daddy.fitness}</div>\r\n            </div>\r\n            <div className={'arrow'}>&#8594;</div>\r\n            <div>\r\n                <div className={'individual'} style={{backgroundColor: child}}>{props.child.fitness}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Family;\r\n","import React from 'react';\r\nimport '../components/Population.css';\r\nimport Family from \"./Family\";\r\n\r\nfunction Population(props) {\r\n    const pop = props.population;\r\n\r\n    const listPop = pop.individuals.map((individual) =>\r\n        <Family\r\n            mommy={individual.mommy}\r\n            daddy={individual.daddy}\r\n            child={individual}\r\n        />\r\n    );\r\n\r\n    return (\r\n        <div className=\"Population\">\r\n            Generation: {pop.generation}\r\n            <div className=\"PopulationList\">\r\n                {listPop}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Population;","import React from 'react';\r\nimport Spectra from 'spectra';\r\n\r\nfunction Population(props) {\r\n    const pop = props.population;\r\n    const listPop = pop.individuals.map((individual) => {\r\n        // convert to hex to use in CSS\r\n        const color = Spectra(individual.value).hex();\r\n\r\n        return (\r\n            <div className=\"container\" style={{backgroundColor: color}}>\r\n                {individual.fitness}\r\n            </div>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <div className=\"Population\">\r\n            Initial Population\r\n            <div className=\"PopulationList\">\r\n                {listPop}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Population;\r\n","import React from 'react';\r\nimport Population from './Population.js';\r\nimport InitialPop from './InitialPop.js';\r\nimport '../components/Generations.css';\r\n\r\nfunction Generations(props) {\r\n\r\n    const genList = props.generations.filter((pop) => {\r\n        // first, only show every nth generation\r\n        return pop.generation % props.displayInterval === 0;\r\n    }).map((pop) => {\r\n        // then, render as components\r\n        // render the first generation differently\r\n        if (pop.generation === 0) {\r\n            return <InitialPop key={pop.generation.toString()} population={pop} />\r\n        }\r\n        return <Population key={pop.generation.toString()} population={pop}/>\r\n    });\r\n\r\n    if (genList[0]) {\r\n        return (\r\n            <div>\r\n                <hr />\r\n                <div className=\"Generations\">\r\n                    {genList}\r\n                </div>\r\n            </div>\r\n        );\r\n    } else return null;\r\n}\r\n\r\nexport default Generations;\r\n","import React from 'react';\r\nimport {HorizontalGridLines, LineSeries, VerticalGridLines, XAxis, XYPlot, YAxis, MarkSeries} from \"react-vis\";\r\nimport '../../node_modules/react-vis/dist/style.css';\r\nimport '../components/DataPanel.css'\r\n\r\nfunction DataPanel(props) {\r\n\r\n    let currentFitness;\r\n    let averageFitness;\r\n    let generation;\r\n\r\n    if (props.prevGen) { // ensure the props exist\r\n        currentFitness = props.prevGen.individuals.map((cur, i) => {\r\n            return {\r\n                x: i,\r\n                y: cur.fitness,\r\n            }\r\n        });\r\n\r\n       averageFitness = props.stats.fitnessOverTime[props.stats.fitnessOverTime.length - 1].y;\r\n       generation = props.prevGen.generation;\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"DataPanel\">\r\n            <div className=\"Data\">\r\n                <XYPlot height={300} width={300}>\r\n                    <VerticalGridLines />\r\n                    <HorizontalGridLines />\r\n                    <XAxis title=\"Generation\"/>\r\n                    <YAxis title=\"Fitness\"/>\r\n                    <LineSeries data={props.stats.fitnessOverTime}/>\r\n                </XYPlot>\r\n            </div>\r\n            <div className=\"Data\">\r\n                <XYPlot yDomain={[0, 100]}\r\n                        height={300}\r\n                        width={300}>\r\n                    <VerticalGridLines />\r\n                    <HorizontalGridLines />\r\n                    <XAxis title=\"Individual\"/>\r\n                    <YAxis title=\"Fitness\"/>\r\n                    <MarkSeries data={currentFitness}/>\r\n                </XYPlot>\r\n            </div>\r\n            <div className=\"Data\">\r\n                <XYPlot height={300} width={300}>\r\n                    <VerticalGridLines />\r\n                    <HorizontalGridLines />\r\n                    <XAxis title=\"Generation\"/>\r\n                    <YAxis title=\"Standard Deviation of Fitness\"/>\r\n                    <LineSeries data={props.stats.stdDevOverTime}/>\r\n                </XYPlot>\r\n            </div>\r\n            <div className=\"Info\">\r\n                <div>Generation: {generation}</div>\r\n                <div>Lowest Fitness: {props.stats.lowestFitness}</div>\r\n                <div>Highest Fitness: {props.stats.highestFitness}</div>\r\n                <div>Average Fitness: {averageFitness}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DataPanel;\r\n","import DeltaE from 'delta-e';\r\nimport Spectra from 'spectra';\r\n\r\nclass Algorithm {\r\n\r\n    getRandomInt(min, max) {\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    }\r\n\r\n    // generates a colour in RGB colour space\r\n    newColor() {\r\n        let r = this.getRandomInt(0, 255);\r\n        let g = this.getRandomInt(0, 255);\r\n        let b = this.getRandomInt(0, 255);\r\n        return {r: r, g: g, b: b};\r\n    }\r\n\r\n    // convert RGB to LAB\r\n    convertToLab(color) {\r\n        /*\r\n            It seems like DeltaE doesn't like the LAB object provided by Spectra.\r\n            So this function converts them so they work together nicely :D\r\n         */\r\n        const spectraLab = Spectra(color).labObject();\r\n        const lab = {\r\n            L: spectraLab.l,\r\n            A: spectraLab.a,\r\n            B: spectraLab.b,\r\n        }\r\n        return lab;\r\n    }\r\n\r\n    calculateFitness(value, optimal) {\r\n        // convert to LAB for comparison\r\n        const valueLAB = this.convertToLab(value);\r\n        const optimalLAB = this.convertToLab(optimal);\r\n\r\n        // DeltaE is 0 when there's no difference\r\n        // I subtract from 100 so that 100 is the optimal fitness\r\n        const fitness = 100 - DeltaE.getDeltaE00(valueLAB, optimalLAB);\r\n\r\n        return parseFloat(fitness.toFixed(1));\r\n    }\r\n\r\n    generateStartingPop(popSize, optimal, deathCutoff) {\r\n        // initialize population\r\n        let population = {\r\n            generation: 0,\r\n            individuals: [],\r\n        };\r\n\r\n        // add individuals to population\r\n        for (let i = 0; i < popSize; i++) {\r\n            // create new color\r\n            const value = this.newColor();\r\n\r\n            population.individuals.push({\r\n                value: value,\r\n                fitness: this.calculateFitness(value, optimal),\r\n            });\r\n        }\r\n\r\n        // remove the weaklings before returning\r\n        return this.death(population, deathCutoff);\r\n    }\r\n\r\n    // compute the next generation\r\n    nextGen(prevGen, popSize, optimal, deathCutoff) {\r\n\r\n        // the population is grouped into pairs for breeding\r\n        // I temporarily change the object for the selection\r\n        let selectionPop = this.selection(prevGen, popSize);\r\n\r\n        // the pairs will now breed\r\n        let nextGen = this.crossover(selectionPop);\r\n\r\n        // add mutations\r\n        nextGen = this.mutation(nextGen);\r\n\r\n        // calculate fitness\r\n        nextGen = this.assignFitness(nextGen, optimal);\r\n\r\n        // update counter\r\n        nextGen = this.updateCounter(nextGen);\r\n\r\n        // remove the weaklings\r\n        nextGen = this.death(nextGen, deathCutoff);\r\n\r\n        return nextGen;\r\n    }\r\n\r\n    // remove individuals with fitness below cutoff\r\n    death(pop, deathCutoff) {\r\n        const newIndividuals = pop.individuals.filter(i => i.fitness >= deathCutoff);\r\n        return {\r\n            ...pop,\r\n            individuals: newIndividuals,\r\n        };\r\n    }\r\n\r\n    selection(pop, popSize) {\r\n        // selectionPop object contains pairs for the crossover step later on\r\n        const selectionPop = {\r\n            generation: pop.generation,\r\n            pairs: [],\r\n        };\r\n\r\n        /*\r\n            Population breeds until popSize is full.\r\n            The more fit, the more likely an individual is to breed.\r\n         */\r\n        const individuals = pop.individuals;\r\n        for (let i = 0; i < popSize; i++) {\r\n\r\n            // pair is two individuals who will mate\r\n            let pair = []; //\r\n\r\n            const individual = this.randWeightedInd(individuals);\r\n            pair.push(individual); // push random individual to pair\r\n\r\n            // ensure an individual is not paired with itself\r\n            // this is really not ideal TODO figure out a better way\r\n            let nextPair;\r\n            do {\r\n                nextPair = this.randWeightedInd(individuals); // next in pair\r\n                pair[1] = nextPair; // assign random individual to next spot\r\n            } while (nextPair === pair[0]) // do this until the pair has distinct members\r\n\r\n            // once that's done, push it to pairs\r\n            selectionPop.pairs.push(pair);\r\n        }\r\n        return selectionPop;\r\n    }\r\n\r\n    // returns an individual randomly based on their fitness\r\n    randWeightedInd(individuals) {\r\n        // sum of fitness\r\n        const indFitness = individuals.map(x => x.fitness);\r\n        const weightSums = indFitness.reduce((acc, cur) => acc + cur);\r\n        let randNum = this.getRandomInt(0, weightSums); // random value from 0 to weightSums\r\n\r\n        for (let j = 0; j < individuals.length; j++) {\r\n            if (randNum < individuals[j].fitness) {\r\n                return individuals[j];\r\n            }\r\n            randNum -= individuals[j].fitness;\r\n        }\r\n\r\n        // if loop ends with no return, return last element\r\n        // this shouldn't introduce much of a bias, as the last one would have been picked if it weren't for rounding issues\r\n        return individuals[individuals.length - 1];\r\n    }\r\n\r\n    // combine color values\r\n    crossover(sel) {\r\n        // recreate population object\r\n        let nextPop = {\r\n            generation: sel.generation,\r\n            individuals: [],\r\n        };\r\n\r\n        // combine each pair into one individual\r\n        for (let i = 0; i < sel.pairs.length; i++) {\r\n            let nextInd = this.mate(sel.pairs[i]);\r\n            nextPop.individuals.push(nextInd);\r\n        }\r\n\r\n        return nextPop;\r\n    }\r\n\r\n    // breed one pair\r\n    mate(pair) {\r\n        const mommy = pair[0]; // mommy and daddy have no meaning\r\n        const daddy = pair[1]; // gender does not exist in this universe\r\n\r\n\r\n        /*\r\n            Convert all color values to string, and pad with 0s to reach 3 digits.\r\n            CrossPnt chooses where to cross the parent's color info.\r\n            --> from 1 to 8 to ensure baby is not the exact same as one of the parents\r\n            Then the string will be split back into color info\r\n        */\r\n        const mommyGene = this.colorToGene(mommy.value);\r\n        const daddyGene = this.colorToGene(daddy.value);\r\n\r\n        const crossPnt = this.getRandomInt(1, 8);\r\n        const babyGene = mommyGene.substring(0, crossPnt) + daddyGene.substring(crossPnt);\r\n\r\n        const baby = {\r\n            value: this.geneToColor(babyGene),\r\n            fitness: 0, // fitness will be calculated after mutations\r\n            mommy: {\r\n                value: mommy.value,\r\n                fitness: mommy.fitness,\r\n            },\r\n            daddy: {\r\n                value: daddy.value,\r\n                fitness: daddy.fitness,\r\n            },\r\n        }\r\n\r\n        return baby;\r\n    }\r\n\r\n    // return string of all padded rgb values\r\n    colorToGene(color) {\r\n        const R = this.pad(color.r);\r\n        const G = this.pad(color.g);\r\n        const B = this.pad(color.b);\r\n        return R + G + B;\r\n    }\r\n\r\n    // add 0s before number until it's 3 digits long and return as string\r\n    pad(num) {\r\n        let s = num.toString();\r\n\r\n        for (let i = s.length; i < 3; i++) {\r\n            s = \"0\" + s;\r\n        }\r\n\r\n        return s;\r\n    }\r\n\r\n    // takes gene string, converts to RGB color\r\n    geneToColor(gene) {\r\n        const color = {\r\n            r: parseInt(gene.substring(0, 3)),\r\n            g: parseInt(gene.substring(3, 6)),\r\n            b: parseInt(gene.substring(6, 9)),\r\n        };\r\n        return color;\r\n    }\r\n\r\n    // occasionally add or subtract random amounts from the individual's RGB values\r\n    mutation(pop) {\r\n\r\n        for (let i = 0; i < pop.individuals.length; i++) {\r\n            const ind = pop.individuals[i];\r\n\r\n            const mutationProb = 0.01;\r\n            if (Math.random() < mutationProb) {\r\n\r\n                const sign = Math.random() < 0.5 ? -1 : 1; // adding or subtracting?\r\n\r\n                const mutationVal = this.getRandomInt(0, 2); // which value will be modified? (R, G, or B)\r\n\r\n                // a random integer that tends to be fairly small, but can be larger\r\n                const delta = Math.round(this.rand_bm(0, 255, 5));\r\n\r\n                let newValue;\r\n\r\n                switch(mutationVal) {\r\n                    case 0:\r\n                        newValue = ind.value.r + (delta * sign);\r\n                        pop.individuals[i].value.r = Math.min(newValue, 255);\r\n                        break;\r\n                    case 1:\r\n                        newValue = ind.value.g + (delta * sign);\r\n                        pop.individuals[i].value.g = Math.min(newValue, 255);\r\n                        break;\r\n                    case 2:\r\n                        newValue = ind.value.b + (delta * sign);\r\n                        pop.individuals[i].value.b = Math.min(newValue, 255);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        return pop;\r\n    }\r\n\r\n    // Box–Muller transform to give random numbers that tend to be in a specific range, but can be larger or smaller.\r\n    // from https://stackoverflow.com/a/49434653\r\n    rand_bm (min, max, skew) {\r\n        let u = 0, v = 0;\r\n        while(u === 0) u = Math.random(); //Converting [0,1) to (0,1)\r\n        while(v === 0) v = Math.random();\r\n        let num = Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\r\n\r\n        num = num / 10.0 + 0.5; // Translate to 0 -> 1\r\n        if (num > 1 || num < 0) num = this.rand_bm(min, max, skew); // re sample between 0 and 1 if out of range\r\n        num = Math.pow(num, skew); // Skew\r\n        num *= max - min; // Stretch to fill range\r\n        num += min; // offset to min\r\n        return num;\r\n    }\r\n\r\n    assignFitness(pop, optimal) {\r\n        for (let i = 0; i < pop.individuals.length; i++) {\r\n            const value = pop.individuals[i].value;\r\n            pop.individuals[i].fitness = this.calculateFitness(value, optimal);\r\n        }\r\n\r\n        return pop;\r\n    }\r\n\r\n    // this could have been done earlier, but I make it it's own step for clarity\r\n    updateCounter(pop) {\r\n        return {\r\n            generation: pop.generation + 1,\r\n            individuals: pop.individuals,\r\n        };\r\n    }\r\n}\r\n\r\nexport default Algorithm;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport ControlPanel from \"./components/ControlPanel\";\r\nimport Generations from \"./components/Generations\";\r\nimport DataPanel from \"./components/DataPanel\";\r\nimport Algorithm from \"./algorithm/Algorithm\";\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.alg = new Algorithm();\r\n\r\n        this.state = {\r\n            popSize: 50,\r\n            deathCutoff: 5, // determines min fitness to survive\r\n            maxGens: 50, // prevent infinite loops (hopefully less necessary once convergence is written)\r\n            displayInterval: 25, // show every n generations\r\n            optimal: this.alg.newColor(), // Optimal individual in environment (in RGB, but converted to LAB for fitness calculation)\r\n            generations: [],\r\n            stats: {\r\n                fitnessOverTime: [],\r\n                stdDevOverTime: [],\r\n                lowestFitness: 100,\r\n                highestFitness: 0,\r\n            },\r\n        }\r\n\r\n        this.handleControlPanelChange = this.handleControlPanelChange.bind(this);\r\n        this.handleControlPanelSubmit = this.handleControlPanelSubmit.bind(this);\r\n        this.stopInterval = this.stopInterval.bind(this);\r\n    }\r\n\r\n\r\n    handleControlPanelChange(state) {\r\n        this.setState(state);\r\n    }\r\n\r\n    handleControlPanelSubmit() {\r\n        clearInterval(this.genInterval);\r\n\r\n        const initialGen = this.alg.generateStartingPop(this.state.popSize, this.state.optimal, this.state.deathCutoff);\r\n\r\n        this.setState({\r\n            generations: [initialGen],\r\n            stats: {\r\n                fitnessOverTime: [this.calculateAverageFitness(initialGen)],\r\n                stdDevOverTime: [this.calculateStdDevFitness(initialGen)],\r\n                lowestFitness: this.findLowestFitness(100, initialGen),\r\n                highestFitness: this.findHighestFitness(0, initialGen),\r\n            }\r\n        });\r\n\r\n        this.genInterval = setInterval(\r\n            () => this.nextGen(),\r\n            0,\r\n        );\r\n    }\r\n\r\n    nextGen() {\r\n        const gens = this.state.generations;\r\n        const prevGen = gens[gens.length - 1];\r\n\r\n        // stop after max number of generations\r\n        if (prevGen.generation >= this.state.maxGens) {\r\n            clearInterval(this.genInterval);\r\n            return;\r\n        }\r\n\r\n        const popSize = this.state.popSize;\r\n        const optimal = this.state.optimal;\r\n        const deathCutoff = this.state.deathCutoff;\r\n\r\n        // create next generation\r\n        const nextGen = this.alg.nextGen(prevGen, popSize, optimal, deathCutoff);\r\n\r\n\r\n        // ensure next generation can actually repopulate. Otherwise end simulation\r\n        if (nextGen.individuals.length > 1) {\r\n            gens.push(nextGen);\r\n\r\n            // update stats\r\n            const stats = this.state.stats;\r\n            let fitnessOverTime = stats.fitnessOverTime;\r\n            let stdDevOverTime = stats.stdDevOverTime;\r\n            let lowestFitness = stats.lowestFitness;\r\n            let highestFitness = stats.highestFitness;\r\n            fitnessOverTime.push(this.calculateAverageFitness(nextGen));\r\n            stdDevOverTime.push(this.calculateStdDevFitness(nextGen));\r\n            lowestFitness = this.findLowestFitness(lowestFitness, nextGen);\r\n            highestFitness = this.findHighestFitness(highestFitness, nextGen);\r\n\r\n            // update state\r\n            this.setState({\r\n                generations: gens,\r\n                stats: {\r\n                    fitnessOverTime: fitnessOverTime,\r\n                    stdDevOverTime: stdDevOverTime,\r\n                    lowestFitness: lowestFitness,\r\n                    highestFitness: highestFitness,\r\n                },\r\n            });\r\n        } else {\r\n            clearInterval(this.genInterval);\r\n        }\r\n    }\r\n\r\n    // this allows control panel to reset interval\r\n    stopInterval() {\r\n        clearInterval(this.genInterval);\r\n    }\r\n\r\n    // calculates average fitness and returns as object for data visualization.\r\n    calculateAverageFitness(gen) {\r\n        const x = gen.generation;\r\n        let pop = gen.individuals;\r\n        const y = (pop.reduce((acc, cur) => acc + parseFloat(cur.fitness), 0) / pop.length).toFixed(1); // find average\r\n        return {\r\n            x: x,\r\n            y: y,\r\n        };\r\n    }\r\n\r\n    // calculates the standard deviation of the fitness and returns as object for data visualisation.\r\n    calculateStdDevFitness(gen) {\r\n        const x = gen.generation;\r\n        const fitnessArr = gen.individuals.map((cur) => cur.fitness);\r\n        const n = fitnessArr.length\r\n        const mean = fitnessArr.reduce((a, b) => a + b) / n\r\n        const y = Math.sqrt(fitnessArr.map(x => Math.pow(x - mean, 2)).reduce((a, b) => a + b) / n);\r\n        return {\r\n            x: x,\r\n            y: y,\r\n        }\r\n    }\r\n\r\n    findHighestFitness(highest, gen) {\r\n        const fitnessArr = gen.individuals.map((cur) => cur.fitness);\r\n        return Math.max(...fitnessArr, highest);\r\n    }\r\n\r\n    findLowestFitness(lowest, gen) {\r\n        const fitnessArr = gen.individuals.map((cur) => cur.fitness);\r\n        return Math.min(...fitnessArr, lowest);\r\n    }\r\n\r\n\r\n    render() {\r\n        const gens = this.state.generations;\r\n        const prevGen = this.state.generations[this.state.generations.length - 1];\r\n\r\n        return (\r\n            <div className=\"App\">\r\n                <h1>Genetic Algorithm</h1>\r\n                <h5>By Aiden Kerr</h5>\r\n                <a href=\"https://github.com/AidenKerr/genetic-v2/blob/master/README.md\">What is this? Click Here!</a>\r\n                <ControlPanel\r\n                    popSize={this.state.popSize}\r\n                    deathCutoff={this.state.deathCutoff}\r\n                    maxGens={this.state.maxGens}\r\n                    displayInterval={this.state.displayInterval}\r\n                    optimal={this.state.optimal}\r\n                    onControlPanelChange={this.handleControlPanelChange}\r\n                    onControlPanelSubmit={this.handleControlPanelSubmit}\r\n                    stopInterval={this.stopInterval}\r\n                />\r\n                <DataPanel stats={this.state.stats} prevGen={prevGen}/>\r\n                <Generations\r\n                    generations={gens}\r\n                    displayInterval={this.state.displayInterval}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}